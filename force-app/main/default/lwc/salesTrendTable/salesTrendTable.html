<template>
    <div class="slds-card">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="standard:opportunity" size="small"></lightning-icon>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <span class="slds-text-heading_small">{title}</span>
                    </h2>
                </div>
            </header>
        </div>
        
        <div class="slds-card__body slds-card__body_inner">
            <!-- Date Range Information -->
            <template if:true={formattedStartDate}>
                <div class="slds-m-bottom_small">
                    <p class="slds-text-body_small">
                        <lightning-formatted-text value="Date Range: "></lightning-formatted-text>
                        <lightning-formatted-text value={formattedStartDate}></lightning-formatted-text>
                        <lightning-formatted-text value=" to "></lightning-formatted-text>
                        <lightning-formatted-text value={formattedEndDate}></lightning-formatted-text>
                    </p>
                </div>
            </template>
            
            <!-- Matrix Data Table Component -->
            <c-matrix-data-table
                object-name="Opportunity"
                row-field="Type"
                column-field="CloseDate"
                aggregate-field="Amount"
                aggregate-function="SUM"
                column-date-grouping="MONTH"
                filter-conditions={filterConditionsJson}
                value-prefix="$">
            </c-matrix-data-table>
        </div>
    </div>
</template>